#!/bin/bash

if [ "$1" == "-h" ] || [ "$1" == "--help" ]; then
  echo "push or -p - push everything"
  echo "test or -t - build and test sample program"
  echo "conf or -c - reconfigure makefile #in the works"
  echo "update or -u - update get branch from main"
  echo "setup or -s - make it so you can run the program without ./, it also works everywhere"
elif [ "$1" == "push" ] || [ "$1" == "-p" ]; then
  if [ "$2" != NULL ]; then
    git add $2
  else
    git add *
  fi
  echo "What did you change:"
  read change
  git commit -m "$change"
  git config --global push.defualt simple
  git push
elif [ "$1" == "test" ] || [ "$1" == "-t" ]; then
  make clean
  make
  ./a.out
elif [ "$1" == "conf" ] || [ "$1" == "-c" ]; then
  #NEED TO FINISH THIS
  echo "This is still being worked on"
  #echo "Configuring..."
  #make clean
  #touch .cache/mf
  #echo "################################################################" >> .cache/mf
  #echo "# This makefile is for the temp main file for testing purposes." >> .cache/mf
  #echo "# Created by: Avery Reed on 2/14/17" >> .cache/mf
  #echo "# Last Edited by: Avery Reed `date`" >> .cache/mf
  #echo "################################################################" >> .cache/mf
  #echo "" >> .cache/mf
  #echo "FLAGS = -lSDL2" >> .cache/mf
  #echo "" >> .cache/mf
  #echo "################################################################" >> .cache/mf
  #echo "# Build Game" >> .cache/mf
  #echo "################################################################" >> .cache/mf
elif [ "$1" == "update" ] || [ "$1" == "-u" ]; then
  git status
  git pull
elif [ "$1" == "setup" ] || [ "$1" == "-s" ]; then
  echo -n "Are you sure you want to add the command 'manage' to your path? (y/n): "
  read ans1
  if [ "$ans1" == "y" ]; then
    echo "HERE:"
    manage
    echo -n "Did anything happen after HERE? (y/n): "
    read ans2
    if [ "$ans2" == "n" ]; then
      echo "Ok. Adding manage to your path..."
      export PATH=$PATH:$PWD
      echo "Completed. You can now run wihtout ./ and from anywhere."
    else
      echo "You already have a program called manage and should not do this."
      echo "Aborting."
    fi
  fi
else
  echo "No input value"
fi
